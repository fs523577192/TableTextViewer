apply plugin: 'java'

sourceCompatibility = 1.6
targetCompatibility = 1.6

repositories {
	maven {
		url "http://maven.aliyun.com/nexus/content/groups/public/"
	}
}

dependencies {
}

compileJava {
	options.encoding = 'UTF-8'
	options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation"
}

jar {
	configurations.compile.each {
		if (!it.isDirectory()) {
			zipTree(it).matching {
				exclude 'META-INF/**'
			}.each {
				println it
			}
		}
	}
	from {
		configurations.compile.collect {
			it.isDirectory() ? it : zipTree(it).matching {
				exclude 'META-INF/**'
			}
		}
	}
    manifest {
	    attributes 'Main-Class': 'com.gnete.tool.TableTextViewer'
	}
}
